var H=Object.defineProperty,L=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var k=(a,e,r)=>e in a?H(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r,u=(a,e)=>{for(var r in e||(e={}))K.call(e,r)&&k(a,r,e[r]);if(h)for(var r of h(e))z.call(e,r)&&k(a,r,e[r]);return a},i=(a,e)=>L(a,O(e));import{r as n,j as P,u as D,a as N,b as R}from"./react-vendor-3QM672nd.js";import{A as T,M as W}from"./pc-builder-components-CbEHMDAY.js";const w=n.createContext(null),$=()=>{const a=n.useContext(w);if(!a)throw new Error("usePCBuilder must be used within PCBuilderProvider");return a},U=({children:a})=>{const[e,r]=n.useState("selection"),[m,d]=n.useState({cpu:null,motherboard:null,ram:[],gpu:null,psu:null,storage:[],case:null,cooling:null}),[g,f]=n.useState({budget:null,usage:null,gamingDetails:null}),[C,c]=n.useState(new Map),[b,p]=n.useState([]),x=n.useMemo(()=>Object.values(m).reduce((l,o)=>Array.isArray(o)?l+o.reduce((s,t)=>s+((t==null?void 0:t.price)||0),0):l+((o==null?void 0:o.price)||0),0),[m]),j=n.useCallback((l,o)=>{d(s=>{const t=l.toLowerCase().replace(/\s+/g,"");if(t==="memoriasram"||t==="ram")return i(u({},s),{ram:[...s.ram,o]});if(t==="almacenamiento"||t==="storage")return i(u({},s),{storage:[...s.storage,o]});const M={procesadores:"cpu",motherboards:"motherboard",fuentes:"psu",refrigeración:"cooling",refrigeracion:"cooling"}[t]||t;return i(u({},s),{[M]:o})})},[]),A=n.useCallback((l,o=null)=>{d(s=>{const t=l.toLowerCase().replace(/\s+/g,"");if(t==="memoriasram"||t==="ram")return o?i(u({},s),{ram:s.ram.filter(y=>y.id!==o)}):i(u({},s),{ram:[]});if(t==="almacenamiento"||t==="storage")return o?i(u({},s),{storage:s.storage.filter(y=>y.id!==o)}):i(u({},s),{storage:[]});const M={procesadores:"cpu",motherboards:"motherboard",fuentes:"psu",refrigeración:"cooling",refrigeracion:"cooling"}[t]||t;return i(u({},s),{[M]:null})})},[]),B=n.useCallback((l,o)=>{f(s=>i(u({},s),{[l]:o}))},[]),S=n.useCallback(()=>{d({cpu:null,motherboard:null,ram:[],gpu:null,psu:null,storage:[],case:null,cooling:null}),p([]),c(new Map)},[]),E=n.useCallback(l=>{l&&typeof l=="object"&&d(l)},[]),_={mode:e,setMode:r,pcBuild:m,selectComponent:j,removeComponent:A,assistedAnswers:g,setAssistedAnswer:B,compatibilityStatus:C,setCompatibilityStatus:c,warnings:b,setWarnings:p,totalPrice:x,clearConfiguration:S,loadConfiguration:E};return P.jsx(w.Provider,{value:_,children:a})},q=()=>{var C;const a=D(),e=N(),{mode:r,setMode:m}=$(),{mode:d}=R();n.useEffect(()=>{var b;let c="manual";d==="asistido"?c="assisted":d==="manual"?c="manual":(b=e.state)!=null&&b.mode&&(c=e.state.mode),m(c)},[d,(C=e.state)==null?void 0:C.mode,m]);const g=()=>{a("/")},f=c=>{m(c)};return r==="assisted"?P.jsx(T,{onModeChange:f,onGoHome:g}):P.jsx(W,{onModeChange:f,onGoHome:g})},V=Object.freeze(Object.defineProperty({__proto__:null,default:q},Symbol.toStringTag,{value:"Module"}));export{U as P,V as a,$ as u};
