import{r as i}from"./react-core-CBV1sz15.js";const a=()=>typeof window!="undefined"&&typeof window.gtag=="function",c=(e,r=0,t="Product List")=>{var n;return{item_id:((n=e.id)==null?void 0:n.toString())||"unknown",item_name:e.name||"Unknown Product",item_brand:e.brand||"Unknown Brand",item_category:e.category||"Uncategorized",item_variant:e.model||"",price:e.price||0,quantity:1,index:r,item_list_name:t,item_list_id:t.toLowerCase().replace(/\s+/g,"_")}},_=(e,r="Product List")=>{if(!(!a()||!e||e.length===0))try{const t=e.slice(0,10).map((n,o)=>c(n,o,r));window.gtag("event","view_item_list",{item_list_name:r,item_list_id:r.toLowerCase().replace(/\s+/g,"_"),items:t})}catch(t){}},m=(e,r=0,t="Product List")=>{if(!(!a()||!e))try{const n=c(e,r,t);window.gtag("event","select_item",{item_list_name:t,item_list_id:t.toLowerCase().replace(/\s+/g,"_"),items:[n]})}catch(n){}},f=e=>{if(!(!a()||!e))try{const r=c(e);window.gtag("event","view_item",{currency:"COP",value:e.price||0,items:[r]})}catch(r){}},w=(e,r="consult")=>{var t;if(!(!a()||!e))try{window.gtag("event","whatsapp_click",{event_category:"engagement",event_label:e.name,product_id:(t=e.id)==null?void 0:t.toString(),product_name:e.name,product_category:e.category,product_price:e.price,action_type:r,value:e.price||0})}catch(n){}},l=(e,r=0)=>{if(!(!a()||!e))try{window.gtag("event","view_category",{event_category:"navigation",event_label:e,category_name:e,product_count:r})}catch(t){}},u=e=>{const r=i.useRef(!1);i.useEffect(()=>(e&&!r.current&&(f(e),r.current=!0),()=>{r.current=!1}),[e==null?void 0:e.id])},v=(e,r="Product List")=>{const t=i.useRef(!1),n=i.useRef("");i.useEffect(()=>{if(!e||e.length===0)return;const o=e.map(s=>s.id).join(",");o!==n.current&&(_(e,r),n.current=o,t.current=!0)},[e,r])},k=(e,r)=>{const t=i.useRef(e);i.useEffect(()=>{e&&e!==t.current&&e!=="Todos"&&(l(e,r),t.current=e)},[e,r])};export{k as a,w as b,u as c,m as t,v as u};
