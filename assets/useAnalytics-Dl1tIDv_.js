import{r as i}from"./react-vendor-ovzONtJG.js";const a=()=>typeof window!="undefined"&&typeof window.gtag=="function",s=(e,t=0,r="Product List")=>{var n;return{item_id:((n=e.id)==null?void 0:n.toString())||"unknown",item_name:e.name||"Unknown Product",item_brand:e.brand||"Unknown Brand",item_category:e.category||"Uncategorized",item_variant:e.model||"",price:e.price||0,quantity:1,index:t,item_list_name:r,item_list_id:r.toLowerCase().replace(/\s+/g,"_")}},_=(e,t="Product List")=>{if(!(!a()||!e||e.length===0))try{const r=e.slice(0,10).map((n,c)=>s(n,c,t));window.gtag("event","view_item_list",{item_list_name:t,item_list_id:t.toLowerCase().replace(/\s+/g,"_"),items:r})}catch(r){console.error("Error tracking view_item_list:",r)}},m=(e,t=0,r="Product List")=>{if(!(!a()||!e))try{const n=s(e,t,r);window.gtag("event","select_item",{item_list_name:r,item_list_id:r.toLowerCase().replace(/\s+/g,"_"),items:[n]})}catch(n){console.error("Error tracking select_item:",n)}},f=e=>{if(!(!a()||!e))try{const t=s(e);window.gtag("event","view_item",{currency:"COP",value:e.price||0,items:[t]})}catch(t){console.error("Error tracking view_item:",t)}},w=(e,t="consult")=>{var r;if(!(!a()||!e))try{window.gtag("event","whatsapp_click",{event_category:"engagement",event_label:e.name,product_id:(r=e.id)==null?void 0:r.toString(),product_name:e.name,product_category:e.category,product_price:e.price,action_type:t,value:e.price||0})}catch(n){console.error("Error tracking whatsapp_click:",n)}},l=(e,t=0)=>{if(!(!a()||!e))try{window.gtag("event","view_category",{event_category:"navigation",event_label:e,category_name:e,product_count:t})}catch(r){console.error("Error tracking view_category:",r)}},u=e=>{const t=i.useRef(!1);i.useEffect(()=>(e&&!t.current&&(f(e),t.current=!0),()=>{t.current=!1}),[e==null?void 0:e.id])},v=(e,t="Product List")=>{const r=i.useRef(!1),n=i.useRef("");i.useEffect(()=>{if(!e||e.length===0)return;const c=e.map(o=>o.id).join(",");c!==n.current&&(_(e,t),n.current=c,r.current=!0)},[e,t])},k=(e,t)=>{const r=i.useRef(e);i.useEffect(()=>{e&&e!==r.current&&e!=="Todos"&&(l(e,t),r.current=e)},[e,t])};export{k as a,w as b,u as c,m as t,v as u};
