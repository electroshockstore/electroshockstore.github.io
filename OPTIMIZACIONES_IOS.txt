PROBLEMAS DE RENDIMIENTO EN iOS - SHOCK STORE
================================================

CRÍTICO - ARREGLAR INMEDIATAMENTE:
-----------------------------------

1. FRAMER-MOTION (Impacto: ALTO)
   - Problema: Animaciones JS pesadas en iOS
   - Archivos: WhatsAppButton.jsx, ErrorNotification.jsx, ErrorBoundary.jsx
   - Solución: Reemplazar con CSS animations o eliminar animaciones en mobile
   
2. BLUR EXCESIVO (Impacto: ALTO)
   - Problema: filter: blur(40px) en Index.css línea 127
   - Solución: Reducir a blur(20px) o eliminar en mobile
   - Archivo: src/Styles/Index.css
   
3. ANIMACIONES INFINITAS (Impacto: ALTO)
   - Problema: animate-pulse, animate-orbit corriendo siempre
   - Archivos: Footer.jsx, Index.css
   - Solución: Pausar animaciones en mobile con @media (prefers-reduced-motion)
   
4. WILL-CHANGE ABUSIVO (Impacto: MEDIO)
   - Problema: Muchos elementos con will-change: transform
   - Archivos: Index.css líneas 90, 127, 324, 425
   - Solución: Remover will-change o aplicar solo en hover
   
5. HERO CAROUSEL (Impacto: ALTO)
   - Problema: Carga múltiples imágenes grandes, animaciones complejas
   - Archivo: HeroCarousel.jsx
   - Solución: 
     * Reducir altura en mobile (ya está en 280px, OK)
     * Lazy load de imágenes no visibles
     * Simplificar animaciones de texto
   
6. PRODUCT GRID SIN VIRTUALIZACIÓN (Impacto: ALTO)
   - Problema: Renderiza todos los productos a la vez
   - Archivo: ProductGrid.jsx
   - Solución: Implementar react-window o paginación

7. HOVER EFFECTS EN MOBILE (Impacto: MEDIO)
   - Problema: :hover queda pegado en iOS
   - Archivos: Múltiples componentes
   - Solución: Usar @media (hover: hover) para hover effects

8. GRADIENTES ANIMADOS (Impacto: MEDIO)
   - Problema: Múltiples gradientes con background-size: 400%
   - Archivo: Index.css líneas 320-330
   - Solución: Desactivar en mobile

9. TRANSFORM EN IMÁGENES (Impacto: MEDIO)
   - Problema: group-hover:scale-110 en ProductImage
   - Archivo: ProductCard/ProductImage.jsx línea 7
   - Solución: Desactivar scale en mobile

10. CONTEXT RE-RENDERS (Impacto: MEDIO)
    - Problema: FilterContext puede causar re-renders innecesarios
    - Archivo: FilterContext.jsx
    - Solución: Ya tiene useMemo, verificar que funcione correctamente


OPTIMIZACIONES ESPECÍFICAS PARA iOS:
-------------------------------------

A. Detectar iOS y aplicar clase especial:
   - Agregar detección en App.jsx
   - Aplicar clase .is-ios al body
   - Usar CSS específico para iOS

B. Reducir animaciones en mobile:
   - Usar @media (max-width: 768px) para desactivar animaciones
   - Usar @media (prefers-reduced-motion) para accesibilidad

C. Optimizar imágenes:
   - Agregar decoding="async" a TODAS las imágenes
   - Usar fetchpriority="low" para imágenes below fold
   - Considerar formato AVIF para iOS 16+

D. Lazy loading agresivo:
   - Solo cargar primeros 8 productos con eager
   - Resto con loading="lazy"
   - Intersection Observer para cargar más

E. Reducir capas de composición:
   - Eliminar will-change innecesarios
   - Reducir elementos con position: fixed
   - Simplificar z-index

F. Optimizar scroll:
   - Usar -webkit-overflow-scrolling: touch
   - Evitar scroll listeners pesados
   - Usar passive event listeners


PRIORIDAD DE IMPLEMENTACIÓN:
-----------------------------

FASE 1 (Impacto inmediato):
1. Reemplazar framer-motion con CSS en WhatsAppButton
2. Reducir blur de 40px a 20px
3. Desactivar animaciones infinitas en mobile
4. Agregar @media (hover: hover) a hover effects

FASE 2 (Mejora significativa):
5. Implementar virtualización en ProductGrid
6. Optimizar Hero Carousel para mobile
7. Remover will-change innecesarios
8. Agregar decoding="async" a todas las imágenes

FASE 3 (Pulido):
9. Detectar iOS y aplicar optimizaciones específicas
10. Implementar lazy loading agresivo
11. Reducir gradientes animados en mobile


CÓDIGO DE EJEMPLO - DETECCIÓN iOS:
-----------------------------------

// En App.jsx o main.jsx
useEffect(() => {
  const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);
  if (isIOS) {
    document.body.classList.add('is-ios');
  }
}, []);

// En Index.css
.is-ios .mesh-container {
  filter: blur(20px); /* Reducido de 40px */
}

.is-ios .animate-pulse,
.is-ios .animate-orbit-1,
.is-ios .animate-orbit-2,
.is-ios .animate-orbit-3 {
  animation: none !important;
}

@media (max-width: 768px) {
  .mesh-container {
    display: none; /* Eliminar en mobile */
  }
  
  .animate-pulse,
  .animate-orbit-1,
  .animate-orbit-2,
  .animate-orbit-3 {
    animation: none !important;
  }
}

@media (hover: hover) {
  /* Solo aplicar hover en dispositivos con mouse */
  .smooth-hover:hover {
    transform: translateY(-4px);
  }
}


MÉTRICAS A MONITOREAR:
----------------------
- FPS durante scroll (objetivo: 60fps en iOS)
- Time to Interactive (objetivo: < 3s)
- Largest Contentful Paint (objetivo: < 2.5s)
- Cumulative Layout Shift (objetivo: < 0.1)
- Total Blocking Time (objetivo: < 200ms)


HERRAMIENTAS DE TESTING:
-------------------------
- Safari Web Inspector en iPhone real
- Lighthouse en modo mobile
- React DevTools Profiler
- Performance tab en Chrome DevTools (mobile emulation)
